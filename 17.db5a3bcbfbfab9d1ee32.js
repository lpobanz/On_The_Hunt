(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{pghx:function(n,l,e){"use strict";e.r(l);var t=e("CcnG"),u=function(){return function(){}}(),i=e("pMnS"),o=e("oBZk"),a=e("ZZ/e"),s=e("Ip0R"),c=e("gIcY"),r=e("gTw3"),g=e("iqUP"),b=function(){function n(n,l,e){var t=this;this.router=n,this.firestore=l,this.geolocation=e,this.page={};var u=this.router.getCurrentNavigation().extras.state;console.log(u),console.log("game id is"+this.gameId);try{this.gameId=u.ID,console.log(this.gameId)}catch(i){this.gameId="jKYNMktYB2gyPomrVpFZ",console.log(this.gameId)}e.watchPosition().subscribe((function(n){console.log("this is position "+n),t.userLat=n.coords.latitude,t.userLng=n.coords.longitude,console.log("position is "+t.userLat+" "+t.userLng)}))}return n.prototype.ngOnInit=function(){var n=this;console.log("gamer ID"+this.gameId),this.firestore.collection("Games").doc(this.gameId).collection("Objectives").snapshotChanges().subscribe((function(l){n.objList=l.map((function(n){return{Name:n.payload.doc.data().Name,ID:n.payload.doc.id}})),console.log("this is obj list"),console.log(n.objList)}))},n.prototype.deleteBtnClick=function(n){this.docId=n,this.firestore.collection("Games").doc(this.gameId).collection("Objectives").doc(this.docId).delete().then((function(){console.log("Document successfully deleted!"),this.firestore.collection("Games").doc(this.gameId).update({totalObjectives:g.firestore.FieldValue.increment(-1)})})).catch((function(n){console.error("Error removing document: ",n)}))},n.prototype.backBtnClick=function(){this.router.navigate(["login"])},n.prototype.sendSetLocClick=function(){var n=this,l={};null!=this.page.Name&&null!=this.page.Lat&&null!=this.page.Lng&&(l.Name=this.page.Name,null!=this.page.Link&&(l.Link=this.page.Link),0==isNaN(parseFloat(this.page.Lat))&&0==isNaN(parseFloat(this.page.Lng))&&(l.Lat=parseFloat(this.page.Lat),l.Lng=parseFloat(this.page.Lng),this.firestore.collection("Games").doc(this.gameId).collection("Objectives").add(l).then((function(l){n.page.Name="",n.page.Link="",n.page.Lat="",n.page.Lng=""})).catch((function(n){console.log(n)}))))},n.prototype.sendUserLocClick=function(){var n=this,l={};console.log("btn click"),null!=this.page.Name&&null!=this.userLat&&null!=this.userLng&&(l.Name=this.page.Name,null!=this.page.Link&&(l.Link=this.page.Link),l.Lat=this.userLat,l.Lng=this.userLng,this.firestore.collection("Games").doc(this.gameId).update({totalObjectives:g.firestore.FieldValue.increment(1)}),this.firestore.collection("Games").doc(this.gameId).collection("Objectives").add(l).then((function(l){n.page.Name="",n.page.Link="",n.page.Lat="",n.page.Lng=""})).catch((function(n){console.log(n)})))},n}(),d=e("ZYCi"),p=e("fvl4"),h=t.zb({encapsulation:0,styles:[["input[type=password][_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%]{width:100%;padding:12px 20px;margin:8px 0;display:inline-block;border:1px solid #7a7a7a;box-sizing:border-box}.itm[_ngcontent-%COMP%]{display:block}.objCont[_ngcontent-%COMP%]{position:fixed;height:calc(100% - 320px);overflow:scroll;width:100%}.content[_ngcontent-%COMP%]{--overflow:hidden}.cont[_ngcontent-%COMP%]{position:fixed;width:100%;bottom:0}.subBtn[_ngcontent-%COMP%]{margin-top:5px;width:calc(50% - 5px);font-size:14px;white-space:normal}.backBtn[_ngcontent-%COMP%]{position:absolute;right:5px;top:4px;height:30px;width:94px;font-size:14px}"]],data:{}});function m(n){return t.Ub(0,[(n()(),t.Bb(0,0,null,null,9,"ion-list",[],null,null,null,o.B,o.l)),t.Ab(1,49152,null,0,a.M,[t.j,t.p,t.F],null,null),(n()(),t.Bb(2,0,null,0,7,"ion-item",[["class","itm"]],null,null,null,o.z,o.j)),t.Ab(3,49152,null,0,a.F,[t.j,t.p,t.F],null,null),(n()(),t.Bb(4,0,null,0,2,"ion-label",[["class","ion-text-wrap"]],null,null,null,o.A,o.k)),t.Ab(5,49152,null,0,a.L,[t.j,t.p,t.F],null,null),(n()(),t.Sb(6,0,["",""])),(n()(),t.Bb(7,0,null,0,2,"ion-button",[],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.deleteBtnClick(n.context.$implicit.ID)&&t),t}),o.r,o.b)),t.Ab(8,49152,null,0,a.i,[t.j,t.p,t.F],null,null),(n()(),t.Sb(-1,0,[" Delete "]))],null,(function(n,l){n(l,6,0,l.context.$implicit.Name)}))}function f(n){return t.Ub(0,[(n()(),t.Bb(0,0,null,null,9,"ion-header",[],null,null,null,o.w,o.g)),t.Ab(1,49152,null,0,a.z,[t.j,t.p,t.F],null,null),(n()(),t.Bb(2,0,null,0,7,"ion-toolbar",[],null,null,null,o.F,o.p)),t.Ab(3,49152,null,0,a.Ab,[t.j,t.p,t.F],null,null),(n()(),t.Bb(4,0,null,0,2,"ion-title",[],null,null,null,o.E,o.o)),t.Ab(5,49152,null,0,a.yb,[t.j,t.p,t.F],null,null),(n()(),t.Sb(-1,0,["Create Objectives"])),(n()(),t.Bb(7,0,null,0,2,"ion-button",[["class","backBtn"]],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.backBtnClick()&&t),t}),o.r,o.b)),t.Ab(8,49152,null,0,a.i,[t.j,t.p,t.F],null,null),(n()(),t.Sb(-1,0,[" Back to Login"])),(n()(),t.Bb(10,0,null,null,43,"ion-content",[],null,null,null,o.v,o.f)),t.Ab(11,49152,null,0,a.s,[t.j,t.p,t.F],null,null),(n()(),t.Bb(12,0,null,0,2,"div",[["class","objCont"]],null,null,null,null,null)),(n()(),t.qb(16777216,null,null,1,null,m)),t.Ab(14,278528,null,0,s.i,[t.W,t.S,t.x],{ngForOf:[0,"ngForOf"]},null),(n()(),t.Bb(15,0,null,0,38,"div",[["class","cont"]],null,null,null,null,null)),(n()(),t.Bb(16,0,null,null,7,"input",[["name","message"],["placeholder","Enter The Objective Name"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,l,e){var u=!0,i=n.component;return"input"===l&&(u=!1!==t.Nb(n,17)._handleInput(e.target.value)&&u),"blur"===l&&(u=!1!==t.Nb(n,17).onTouched()&&u),"compositionstart"===l&&(u=!1!==t.Nb(n,17)._compositionStart()&&u),"compositionend"===l&&(u=!1!==t.Nb(n,17)._compositionEnd(e.target.value)&&u),"ngModelChange"===l&&(u=!1!==(i.page.Name=e)&&u),u}),null,null)),t.Ab(17,16384,null,0,c.b,[t.K,t.p,[2,c.a]],null,null),t.Ab(18,16384,null,0,c.i,[],{required:[0,"required"]},null),t.Pb(1024,null,c.d,(function(n){return[n]}),[c.i]),t.Pb(1024,null,c.e,(function(n){return[n]}),[c.b]),t.Ab(21,671744,null,0,c.h,[[8,null],[6,c.d],[8,null],[6,c.e]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Pb(2048,null,c.f,null,[c.h]),t.Ab(23,16384,null,0,c.g,[[4,c.f]],null,null),(n()(),t.Bb(24,0,null,null,7,"input",[["name","message"],["placeholder","Enter Optional Link to location's website"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,l,e){var u=!0,i=n.component;return"input"===l&&(u=!1!==t.Nb(n,25)._handleInput(e.target.value)&&u),"blur"===l&&(u=!1!==t.Nb(n,25).onTouched()&&u),"compositionstart"===l&&(u=!1!==t.Nb(n,25)._compositionStart()&&u),"compositionend"===l&&(u=!1!==t.Nb(n,25)._compositionEnd(e.target.value)&&u),"ngModelChange"===l&&(u=!1!==(i.page.Link=e)&&u),u}),null,null)),t.Ab(25,16384,null,0,c.b,[t.K,t.p,[2,c.a]],null,null),t.Ab(26,16384,null,0,c.i,[],{required:[0,"required"]},null),t.Pb(1024,null,c.d,(function(n){return[n]}),[c.i]),t.Pb(1024,null,c.e,(function(n){return[n]}),[c.b]),t.Ab(29,671744,null,0,c.h,[[8,null],[6,c.d],[8,null],[6,c.e]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Pb(2048,null,c.f,null,[c.h]),t.Ab(31,16384,null,0,c.g,[[4,c.f]],null,null),(n()(),t.Bb(32,0,null,null,7,"input",[["name","message"],["placeholder","Enter Objective's Latitude"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,l,e){var u=!0,i=n.component;return"input"===l&&(u=!1!==t.Nb(n,33)._handleInput(e.target.value)&&u),"blur"===l&&(u=!1!==t.Nb(n,33).onTouched()&&u),"compositionstart"===l&&(u=!1!==t.Nb(n,33)._compositionStart()&&u),"compositionend"===l&&(u=!1!==t.Nb(n,33)._compositionEnd(e.target.value)&&u),"ngModelChange"===l&&(u=!1!==(i.page.Lat=e)&&u),u}),null,null)),t.Ab(33,16384,null,0,c.b,[t.K,t.p,[2,c.a]],null,null),t.Ab(34,16384,null,0,c.i,[],{required:[0,"required"]},null),t.Pb(1024,null,c.d,(function(n){return[n]}),[c.i]),t.Pb(1024,null,c.e,(function(n){return[n]}),[c.b]),t.Ab(37,671744,null,0,c.h,[[8,null],[6,c.d],[8,null],[6,c.e]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Pb(2048,null,c.f,null,[c.h]),t.Ab(39,16384,null,0,c.g,[[4,c.f]],null,null),(n()(),t.Bb(40,0,null,null,7,"input",[["name","message"],["placeholder","Enter Objective's Longitude"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,l,e){var u=!0,i=n.component;return"input"===l&&(u=!1!==t.Nb(n,41)._handleInput(e.target.value)&&u),"blur"===l&&(u=!1!==t.Nb(n,41).onTouched()&&u),"compositionstart"===l&&(u=!1!==t.Nb(n,41)._compositionStart()&&u),"compositionend"===l&&(u=!1!==t.Nb(n,41)._compositionEnd(e.target.value)&&u),"ngModelChange"===l&&(u=!1!==(i.page.Lng=e)&&u),u}),null,null)),t.Ab(41,16384,null,0,c.b,[t.K,t.p,[2,c.a]],null,null),t.Ab(42,16384,null,0,c.i,[],{required:[0,"required"]},null),t.Pb(1024,null,c.d,(function(n){return[n]}),[c.i]),t.Pb(1024,null,c.e,(function(n){return[n]}),[c.b]),t.Ab(45,671744,null,0,c.h,[[8,null],[6,c.d],[8,null],[6,c.e]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Pb(2048,null,c.f,null,[c.h]),t.Ab(47,16384,null,0,c.g,[[4,c.f]],null,null),(n()(),t.Bb(48,0,null,null,2,"ion-button",[["class","subBtn"]],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.sendSetLocClick()&&t),t}),o.r,o.b)),t.Ab(49,49152,null,0,a.i,[t.j,t.p,t.F],null,null),(n()(),t.Sb(-1,0,["Add Objective With input Cordinates"])),(n()(),t.Bb(51,0,null,null,2,"ion-button",[["class","subBtn"]],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.sendUserLocClick()&&t),t}),o.r,o.b)),t.Ab(52,49152,null,0,a.i,[t.j,t.p,t.F],null,null),(n()(),t.Sb(-1,0,["Add Objective With Your Current Location"]))],(function(n,l){var e=l.component;n(l,14,0,e.objList),n(l,18,0,""),n(l,21,0,"message",e.page.Name),n(l,26,0,""),n(l,29,0,"message",e.page.Link),n(l,34,0,""),n(l,37,0,"message",e.page.Lat),n(l,42,0,""),n(l,45,0,"message",e.page.Lng)}),(function(n,l){n(l,16,0,t.Nb(l,18).required?"":null,t.Nb(l,23).ngClassUntouched,t.Nb(l,23).ngClassTouched,t.Nb(l,23).ngClassPristine,t.Nb(l,23).ngClassDirty,t.Nb(l,23).ngClassValid,t.Nb(l,23).ngClassInvalid,t.Nb(l,23).ngClassPending),n(l,24,0,t.Nb(l,26).required?"":null,t.Nb(l,31).ngClassUntouched,t.Nb(l,31).ngClassTouched,t.Nb(l,31).ngClassPristine,t.Nb(l,31).ngClassDirty,t.Nb(l,31).ngClassValid,t.Nb(l,31).ngClassInvalid,t.Nb(l,31).ngClassPending),n(l,32,0,t.Nb(l,34).required?"":null,t.Nb(l,39).ngClassUntouched,t.Nb(l,39).ngClassTouched,t.Nb(l,39).ngClassPristine,t.Nb(l,39).ngClassDirty,t.Nb(l,39).ngClassValid,t.Nb(l,39).ngClassInvalid,t.Nb(l,39).ngClassPending),n(l,40,0,t.Nb(l,42).required?"":null,t.Nb(l,47).ngClassUntouched,t.Nb(l,47).ngClassTouched,t.Nb(l,47).ngClassPristine,t.Nb(l,47).ngClassDirty,t.Nb(l,47).ngClassValid,t.Nb(l,47).ngClassInvalid,t.Nb(l,47).ngClassPending)}))}function N(n){return t.Ub(0,[(n()(),t.Bb(0,0,null,null,1,"app-create-objectives",[],null,null,null,f,h)),t.Ab(1,114688,null,0,b,[d.m,p.a,r.a],null,null)],(function(n,l){n(l,1,0)}),null)}var C=t.xb("app-create-objectives",b,N,{},{},[]),L=function(){return function(){}}();e.d(l,"CreateObjectivesPageModuleNgFactory",(function(){return v}));var v=t.yb(u,[],(function(n){return t.Kb([t.Lb(512,t.m,t.jb,[[8,[i.a,C]],[3,t.m],t.D]),t.Lb(4608,s.l,s.k,[t.z,[2,s.u]]),t.Lb(4608,c.k,c.k,[]),t.Lb(4608,a.a,a.a,[t.F,t.g]),t.Lb(4608,a.Eb,a.Eb,[a.a,t.m,t.w]),t.Lb(4608,a.Ib,a.Ib,[a.a,t.m,t.w]),t.Lb(1073742336,s.c,s.c,[]),t.Lb(1073742336,c.j,c.j,[]),t.Lb(1073742336,c.c,c.c,[]),t.Lb(1073742336,a.Cb,a.Cb,[]),t.Lb(1073742336,d.o,d.o,[[2,d.t],[2,d.m]]),t.Lb(1073742336,L,L,[]),t.Lb(1073742336,u,u,[]),t.Lb(1024,d.k,(function(){return[[{path:"",component:b}]]}),[])])}))}}]);