(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{obMd:function(l,n,t){"use strict";t.r(n);var o=t("CcnG"),e=function(){return function(){}}(),i=t("pMnS"),a=t("oBZk"),u=t("ZZ/e"),c=t("Ip0R"),r=t("ZYCi"),s=t("fvl4"),b=function(){function l(l,n,t){var o=this;this.router=l,this.firestore=n,this.navCtrl=t;var e=this.router.getCurrentNavigation().extras.state;try{this.gameName=e.name,this.gameId=e.ID,console.log("try ran"),localStorage.setItem("gameName",this.gameName),localStorage.setItem("gameId",this.gameId)}catch(i){null!=localStorage.getItem("gameName")&&null!=localStorage.getItem("gameId")?(this.gameName=localStorage.getItem("gameName"),this.gameId=localStorage.getItem("gameId")):this.router.navigate(["find-game"])}this.place=0,this.colorChange=0,this.spot=0,this.firestore.collection("Games").doc(this.gameId).collection("Users",(function(l){return l.orderBy("Score","desc")})).snapshotChanges().subscribe((function(l){o.scoreList=l.map((function(l){return{Email:l.payload.doc.data().Email,Score:l.payload.doc.data().Score}})),o.userLength=o.scoreList.length,console.log("cleared")})),this.firestore.collection("Games").doc(this.gameId).snapshotChanges().subscribe((function(l){o.objCount=l.payload.data().totalObjectives}))}return l.prototype.ngOnInit=function(){},l.prototype.calcWidth=function(l){this.spot+1>this.userLength?(this.spot=0,this.spot++):this.spot++;var n=34,t="rgb(255,"+(n+=n+20*this.spot<255?20*this.spot:20*this.spot-20*(this.spot-1))+",54)";return console.log(l),console.log("place is "+this.place),this.width=l.Score/this.objCount*100+"%",console.log("width is "+this.width),console.log("color is "+t),{width:this.width,"background-color":t}},l.prototype.calcPlace=function(){console.log("place is"+this.place),this.place+1>this.userLength?(this.place=0,this.place++):this.place++;var l="rgba(205, 128, 50, 0)";return 1==this.place?(console.log("ran score"+this.place),l="rgb(255, 196, 4)"):l=2==this.place?"rgb(201, 201, 201)":3==this.place?"rgb(205,127,50)":"rgba(205, 128, 50, 0)",{color:l}},l.prototype.backBtnClick=function(){this.navCtrl.navigateRoot(["game-home"],{animationDirection:"forward",state:{name:this.gameName,ID:this.gameId}})},l.ngInjectableDef=o.Xb({factory:function(){return new l(o.Yb(r.m),o.Yb(s.a),o.Yb(u.Fb))},token:l,providedIn:"root"}),l}(),p=o.zb({encapsulation:0,styles:[[".backBtn[_ngcontent-%COMP%]{width:70px;height:36px;font-size:16px;--background:#ec6e06}.head[_ngcontent-%COMP%]{--background:rgb(248, 248, 248)}.titl[_ngcontent-%COMP%]{color:#f37d1c;font-weight:700}.emailLbl[_ngcontent-%COMP%]{color:#fff;font-weight:700;font-size:20px}.back[_ngcontent-%COMP%]{position:absolute;background-color:#ec944b;height:100%;border-bottom:2px solid #20202009}.cont[_ngcontent-%COMP%]{display:inline-flex;z-index:5}.lbl[_ngcontent-%COMP%]{margin:0 0 0 35px;color:#fff;font-weight:700;width:80%}ion-item[_ngcontent-%COMP%], ion-list[_ngcontent-%COMP%]{--ion-background-color:#2a293000}.chatCont[_ngcontent-%COMP%]{--background:linear-gradient(#2a2930, #565264)}.score[_ngcontent-%COMP%]{position:absolute;font-weight:700;right:10px;color:#fff}.icon[_ngcontent-%COMP%]{position:absolute;right:35px;color:#fff;font-size:20px}.troph[_ngcontent-%COMP%]{position:absolute;left:5px;color:rgba(205,128,50,0);font-size:24px;-webkit-filter:drop-shadow(1px 1px 0 #000);filter:drop-shadow(1px 1px 0 #000)}"]],data:{}});function g(l){return o.Ub(0,[(l()(),o.Bb(0,0,null,null,17,"ion-item",[["class","itm ion-no-padding"]],null,null,null,a.z,a.j)),o.Ab(1,49152,null,0,u.F,[o.j,o.p,o.F],null,null),(l()(),o.Bb(2,0,null,0,2,"div",[["class","back"]],null,null,null,null,null)),o.Pb(512,null,c.r,c.s,[o.p,o.y,o.K]),o.Ab(4,278528,null,0,c.m,[c.r],{ngStyle:[0,"ngStyle"]},null),(l()(),o.Bb(5,0,null,0,12,"div",[["class","cont"]],null,null,null,null,null)),(l()(),o.Bb(6,0,null,null,3,"ion-icon",[["class","troph"],["name","trophy"]],null,null,null,a.x,a.h)),o.Pb(512,null,c.r,c.s,[o.p,o.y,o.K]),o.Ab(8,278528,null,0,c.m,[c.r],{ngStyle:[0,"ngStyle"]},null),o.Ab(9,49152,null,0,u.A,[o.j,o.p,o.F],{name:[0,"name"]},null),(l()(),o.Bb(10,0,null,null,2,"ion-label",[["class","lbl ion-text-wrap"]],null,null,null,a.A,a.k)),o.Ab(11,49152,null,0,u.L,[o.j,o.p,o.F],null,null),(l()(),o.Sb(12,0,["",""])),(l()(),o.Bb(13,0,null,null,1,"ion-icon",[["class","icon"],["name","ribbon"]],null,null,null,a.x,a.h)),o.Ab(14,49152,null,0,u.A,[o.j,o.p,o.F],{name:[0,"name"]},null),(l()(),o.Bb(15,0,null,null,2,"ion-label",[["class","score"]],null,null,null,a.A,a.k)),o.Ab(16,49152,null,0,u.L,[o.j,o.p,o.F],null,null),(l()(),o.Sb(17,0,["",""]))],(function(l,n){var t=n.component;l(n,4,0,t.calcWidth(n.context.$implicit)),l(n,8,0,t.calcPlace()),l(n,9,0,"trophy"),l(n,14,0,"ribbon")}),(function(l,n){l(n,12,0,n.context.$implicit.Email),l(n,17,0,n.context.$implicit.Score)}))}function h(l){return o.Ub(0,[(l()(),o.Bb(0,0,null,null,9,"ion-header",[],null,null,null,a.w,a.g)),o.Ab(1,49152,null,0,u.z,[o.j,o.p,o.F],null,null),(l()(),o.Bb(2,0,null,0,7,"ion-toolbar",[["class","head"]],null,null,null,a.F,a.p)),o.Ab(3,49152,null,0,u.Ab,[o.j,o.p,o.F],null,null),(l()(),o.Bb(4,0,null,0,2,"ion-button",[["class","backBtn"]],null,[[null,"click"]],(function(l,n,t){var o=!0;return"click"===n&&(o=!1!==l.component.backBtnClick()&&o),o}),a.r,a.b)),o.Ab(5,49152,null,0,u.i,[o.j,o.p,o.F],null,null),(l()(),o.Sb(-1,0,[" Back"])),(l()(),o.Bb(7,0,null,0,2,"ion-title",[["class","titl"]],null,null,null,a.E,a.o)),o.Ab(8,49152,null,0,u.yb,[o.j,o.p,o.F],null,null),(l()(),o.Sb(9,0,[""," Scoreboard"])),(l()(),o.Bb(10,0,null,null,6,"ion-content",[["class","chatCont"]],null,null,null,a.v,a.f)),o.Ab(11,49152,null,0,u.s,[o.j,o.p,o.F],null,null),(l()(),o.Bb(12,0,null,0,4,"div",[],null,null,null,null,null)),(l()(),o.Bb(13,0,null,null,3,"ion-list",[["lines","none"]],null,null,null,a.B,a.l)),o.Ab(14,49152,null,0,u.M,[o.j,o.p,o.F],{lines:[0,"lines"]},null),(l()(),o.qb(16777216,null,0,1,null,g)),o.Ab(16,278528,null,0,c.i,[o.W,o.S,o.x],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var t=n.component;l(n,14,0,"none"),l(n,16,0,t.scoreList)}),(function(l,n){l(n,9,0,n.component.gameName)}))}function m(l){return o.Ub(0,[(l()(),o.Bb(0,0,null,null,1,"app-scoreboard",[],null,null,null,h,p)),o.Ab(1,114688,null,0,b,[r.m,s.a,u.Fb],null,null)],(function(l,n){l(n,1,0)}),null)}var d=o.xb("app-scoreboard",b,m,{},{},[]),f=t("gIcY"),C=function(){return function(){}}();t.d(n,"ScoreboardPageModuleNgFactory",(function(){return k}));var k=o.yb(e,[],(function(l){return o.Kb([o.Lb(512,o.m,o.jb,[[8,[i.a,d]],[3,o.m],o.D]),o.Lb(4608,c.l,c.k,[o.z,[2,c.u]]),o.Lb(4608,f.k,f.k,[]),o.Lb(4608,u.a,u.a,[o.F,o.g]),o.Lb(4608,u.Eb,u.Eb,[u.a,o.m,o.w]),o.Lb(4608,u.Ib,u.Ib,[u.a,o.m,o.w]),o.Lb(1073742336,c.c,c.c,[]),o.Lb(1073742336,f.j,f.j,[]),o.Lb(1073742336,f.c,f.c,[]),o.Lb(1073742336,u.Cb,u.Cb,[]),o.Lb(1073742336,r.o,r.o,[[2,r.t],[2,r.m]]),o.Lb(1073742336,C,C,[]),o.Lb(1073742336,e,e,[]),o.Lb(1024,r.k,(function(){return[[{path:"",component:b}]]}),[])])}))}}]);